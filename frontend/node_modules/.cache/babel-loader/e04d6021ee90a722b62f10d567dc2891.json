{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jassem\\\\Desktop\\\\MERN-messenger\\\\frontend\\\\src\\\\App.js\";\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { Button, FormControl, InputLabel, Input } from '@material-ui/core';\nimport Message from './Message';\nimport FlipMove from 'react-flip-move';\nimport SendIcon from '@material-ui/icons/Send';\nimport IconButton from '@material-ui/core/IconButton';\nimport axios from './axios';\nimport Pusher from 'pusher-js';\nconst pusher = new Pusher('d130f6b91439c1ebb953', {\n  cluster: 'eu'\n});\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState('');\n\n  const sync = async () => {\n    await axios.get('/retrieve/conversation').then(res => {\n      console.log('res.data');\n      setMessages(res.data);\n    });\n  };\n\n  useEffect(() => {\n    sync();\n  }, []);\n  useEffect(() => {\n    setUsername(prompt('Please enter your name'));\n  }, []);\n\n  const sendMessage = e => {\n    e.preventDefault();\n    axios.post('/save/message', {\n      username: username,\n      message: input,\n      timestamp: Date.now()\n    });\n    setInput('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\",\n    alt: \"messenger logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Welcome \", username), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"app__form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    className: \"app__formControl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"app__input\",\n    placeholder: \"Enter a message...\",\n    value: input,\n    onChange: e => setInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    className: \"app__iconButton\",\n    variant: \"text\",\n    color: \"primary\",\n    disabled: !input,\n    onClick: sendMessage,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(FlipMove, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, messages.map(message => /*#__PURE__*/React.createElement(Message, {\n    key: message._id,\n    message: message,\n    username: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/jassem/Desktop/MERN-messenger/frontend/src/App.js"],"names":["React","useEffect","useState","Button","FormControl","InputLabel","Input","Message","FlipMove","SendIcon","IconButton","axios","Pusher","pusher","cluster","App","input","setInput","messages","setMessages","username","setUsername","sync","get","then","res","console","log","data","prompt","sendMessage","e","preventDefault","post","message","timestamp","Date","now","target","value","map","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport { Button, FormControl, InputLabel, Input } from '@material-ui/core'\r\nimport Message from './Message';\r\nimport FlipMove from 'react-flip-move'\r\nimport SendIcon from '@material-ui/icons/Send'\r\nimport IconButton from '@material-ui/core/IconButton' \r\nimport axios from './axios' ; \r\nimport Pusher from 'pusher-js'\r\n\r\n\r\nconst pusher = new Pusher('d130f6b91439c1ebb953', {\r\n  cluster: 'eu'\r\n});\r\n\r\nfunction App() {\r\n  const [input, setInput] = useState('')\r\n  const [messages, setMessages] = useState([])\r\n  const [username, setUsername] = useState('')\r\n\r\n  const sync = async() => {\r\n    await axios.get('/retrieve/conversation')\r\n    .then((res)=> {\r\n      console.log('res.data') ; \r\n      setMessages(res.data)\r\n    })\r\n  }\r\n\r\n  useEffect(()=> {\r\n    sync()\r\n  } , [])\r\n\r\n  useEffect(() => {\r\n    setUsername(prompt('Please enter your name'))\r\n  }, [])\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault()\r\n\r\n    axios.post('/save/message' , {\r\n      username : username , \r\n      message : input , \r\n      timestamp : Date.now()\r\n    })\r\n\r\n    setInput('')\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <img src=\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\" alt=\"messenger logo\" />\r\n      <h2>Welcome {username}</h2>\r\n\r\n      <form className='app__form' >\r\n        <FormControl className='app__formControl' >\r\n          <Input className='app__input' placeholder='Enter a message...' value={input} onChange={(e) => setInput(e.target.value)} />\r\n          <IconButton className='app__iconButton' variant='text' color='primary' disabled={!input} onClick={sendMessage} type=\"submit\" >\r\n            <SendIcon />\r\n          </IconButton>\r\n        </FormControl>\r\n      </form>\r\n\r\n      <FlipMove>\r\n        {\r\n          messages.map( message => (\r\n            <Message key={message._id} message={message  } username={username} />\r\n          ))\r\n        }\r\n      </FlipMove>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}